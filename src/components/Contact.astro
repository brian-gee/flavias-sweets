---
import { addMessage } from '../utils/initFirebase';

if (Astro.request.method === 'POST') {
  const data = await Astro.request.formData();
  const name = data.get('username');
  const email = data.get('email');
  const password = data.get('password');
  addMessage(name, email, password);
}
---

<h1>Register</h1>
<form method="POST">
  <label>
    Username:
    <input type="text" name="username" />
  </label>
  {errors.username && <p>{errors.username}</p>}
  <label>
    Email:
    <input type="email" name="email" required />
  </label>
  {errors.email && <p>{errors.email}</p>}
  <label>
    Password:
    <input type="password" name="password" required minlength="6" />
  </label>
  {errors.password && <p>{errors.password}</p>}
  <button>Register</button>
</form>
